#pylint: disable=C0301

from bot import coder

SAMPLE_MESSAGE = '000000000000000000000000c1912fee45d61c87cc5ea59dae31190fffff232d00000000000000000000000000000000000000000000000000000000000001c800000000000000000000000000000000000000000000000000000000000000020000000000000000000000005291fA3F70C8e3D21B58c831018E5a0D82Dc4ab900000000000000000000000055de2e479F3D0183D95f5A969bEEB3a147F60049000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006a94d74f430000000000000000000000000000000000000000000000000000006a94d74f4300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002386f26fc10000'
SAMPLE_NONCE = 456
SAMPLE_PLAYER_A = '5291fa3f70c8e3d21b58c831018e5a0d82dc4ab9'
SAMPLE_PLAYER_B = '55de2e479f3d0183d95f5a969beeb3a147f60049'
SAMPLE_TYPE = 'c1912fee45d61c87cc5ea59dae31190fffff232d'

INCREMENT_TURN_NUM_MESSAGE = "000000000000000000000000c1912fee45d61c87cc5ea59dae31190fffff232d00000000000000000000000000000000000000000000000000000000000001c800000000000000000000000000000000000000000000000000000000000000020000000000000000000000005291fA3F70C8e3D21B58c831018E5a0D82Dc4ab900000000000000000000000055de2e479F3D0183D95f5A969bEEB3a147F60049000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006a94d74f430000000000000000000000000000000000000000000000000000006a94d74f4300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002386f26fc10000"

def test_channel_attributes():
    nonce = coder.get_channel_nonce(SAMPLE_MESSAGE)
    assert nonce == SAMPLE_NONCE

    players = coder.get_channel_players(SAMPLE_MESSAGE)
    assert players[0] == SAMPLE_PLAYER_A
    assert players[1] == SAMPLE_PLAYER_B

    channel_type = coder.get_channel_type(SAMPLE_MESSAGE)
    assert channel_type == SAMPLE_TYPE

    state = coder.get_channel_state(SAMPLE_MESSAGE)
    assert state == 0

def test_state_attributes():
    turn_num = coder.get_state_turn_num(SAMPLE_MESSAGE)
    assert turn_num == 0

def test_int_to_field():
    num = 16
    h_num = coder.int_to_field(num)
    assert h_num == '0000000000000000000000000000000000000000000000000000000000000010'

def test_increment_state_turn_num():
    response_message = coder.increment_state_turn_num(SAMPLE_MESSAGE)
    assert response_message == INCREMENT_TURN_NUM_MESSAGE

def test_get_channel_id():
    channel_id = coder.get_channel_id(SAMPLE_MESSAGE)
    assert channel_id == '0xf0ada165c4dbc160a1a2db2f31a080c4e99f98387a06e14b7804848af6560cf3'
